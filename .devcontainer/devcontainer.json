{
	"name": "Waccamaw.org",
	"image": "mcr.microsoft.com/devcontainers/javascript-node:1-22-bookworm",
	"features": {
		"ghcr.io/devcontainers/features/hugo:1": {
			"version": "0.91.2"
		},
		"ghcr.io/devcontainers/features/node:1": {
			"nodeGypDependencies": true,
			"installYarnUsingApt": true,
			"version": "lts",
			"pnpmVersion": "latest",
			"nvmVersion": "latest"
		},
		"ghcr.io/devcontainers/features/python:1": {
			"installTools": true,
			"installJupyterlab": false,
			"version": "3.12"
		},
		"ghcr.io/guiyomh/features/just:0": {},
		"ghcr.io/devcontainers/features/github-cli:1": {},
		// "ghcr.io/devcontainers-extra/features/actions-runner:1": {},
		"ghcr.io/christophermacgown/devcontainer-features/direnv:1": {}


	},
	"postCreateCommand": "just install && bash apps/post-create.sh",
	"postAttachCommand": "just serve & bash apps/post-attach.sh && wait",
	"forwardPorts": [1313, 8787, 8788, 8789],
	"portsAttributes": {
		"1313": {
			"label": "Hugo Dev Server (waccamaw.org)",
			"onAutoForward": "notify"
		},
		"8787": {
			"label": "Member Services API (Cloudflare Workers)",
			"onAutoForward": "notify"
		},
		"8788": {
			"label": "Contact Service API (Cloudflare Workers)",
			"onAutoForward": "notify"
		},
		"8789": {
			"label": "Meetings Service API (Cloudflare Workers)",
			"onAutoForward": "notify"
		}
	},
	"customizations": {
		"vscode": {
			"extensions": [
				"github.vscode-github-actions",
				"GitHub.copilot",
				"GitHub.copilot-chat"
			]
		}
	}
}