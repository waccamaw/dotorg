<header class="site-header">
	<div class="header-container">
		<div class="site-branding">
			<a href="/" class="site-logo">
				<img src="/logos/doug-2025/logo.svg" alt="{{ .Site.Title }}">
			</a>
		</div>

		<button class="mobile-menu-toggle" aria-label="Toggle menu" aria-expanded="false">
			<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
				<line x1="3" y1="12" x2="21" y2="12"></line>
				<line x1="3" y1="6" x2="21" y2="6"></line>
				<line x1="3" y1="18" x2="21" y2="18"></line>
			</svg>
		</button>

		<div class="header-right">
			<nav class="site-nav" aria-label="Main navigation">
				<ul class="nav-menu">
					<li><a href="/">Home</a></li>
					<li><a href="/meetings/">Meetings</a></li>
					<li><a href="/archive/">Archive</a></li>
					<li><a href="/photos/">Photos</a></li>
					<li><a href="/about/">About</a></li>
				</ul>
			</nav>

			<div class="site-search">
				<form action="https://www.google.com/search" method="get" target="_blank" role="search">
					<input type="hidden" name="sitesearch" value="waccamaw.org">
					<input type="search" name="q" placeholder="Search..." aria-label="Search" class="search-input">
					<button type="submit" class="search-icon" aria-label="Submit search" title="Search">
						<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
							<circle cx="11" cy="11" r="8"></circle>
							<path d="m21 21-4.35-4.35"></path>
						</svg>
					</button>
				</form>
			</div>
		</div>
	</div>

	<script>
		(function() {
			const toggle = document.querySelector('.mobile-menu-toggle');
			const headerRight = document.querySelector('.header-right');
			
			if (toggle && headerRight) {
				toggle.addEventListener('click', function() {
					const isExpanded = toggle.getAttribute('aria-expanded') === 'true';
					toggle.setAttribute('aria-expanded', !isExpanded);
					headerRight.classList.toggle('mobile-menu-open');
					document.body.classList.toggle('menu-open');
				});

				// Close menu when clicking outside
				document.addEventListener('click', function(event) {
					if (!event.target.closest('.site-header')) {
						toggle.setAttribute('aria-expanded', 'false');
						headerRight.classList.remove('mobile-menu-open');
						document.body.classList.remove('menu-open');
					}
				});

				// Close menu on escape key
				document.addEventListener('keydown', function(event) {
					if (event.key === 'Escape') {
						toggle.setAttribute('aria-expanded', 'false');
						headerRight.classList.remove('mobile-menu-open');
						document.body.classList.remove('menu-open');
					}
				});
			}
		})();
	</script>
</header>
