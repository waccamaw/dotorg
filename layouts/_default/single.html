{{ define "main" }}

<article class="h-entry post-single">
	<header class="post-header">
		{{ if .Title }}
			<h1 class="p-name post-title">{{ .Title }}</h1>
		{{ end }}
		
		<div class="post-meta">
			<time class="dt-published" datetime="{{ .Date.Format "2006-01-02T15:04:05-0700" }}">
				{{ .Date.Format "January 2, 2006" }}
			</time>
			{{ with .Params.author }}
				{{ if reflect.IsMap . }}
					{{ if .full_name }}
						by <span class="p-author h-card">{{ .full_name }}</span>
					{{ end }}
				{{ else }}
					by <span class="p-author h-card">{{ . }}</span>
				{{ end }}
			{{ end }}
		</div>
	</header>

	<div class="e-content post-content">
		{{ .Content }}
	</div>

	{{ if .Params.photos }}
		<div class="post-photos">
			{{ range .Params.photos }}
				<img src="{{ . }}" alt="" loading="lazy">
			{{ end }}
		</div>
	{{ end }}

	<footer class="post-footer">
		<a href="{{ .Permalink }}" class="u-url">Permalink</a>
		{{ if .Site.Params.microblog_user }}
			· <a href="https://micro.blog/{{ .Site.Params.microblog_user }}/{{ path.Base .RelPermalink | strings.TrimSuffix ".html" }}">View on Micro.blog</a>
		{{ end }}
	</footer>
</article>

<nav class="post-navigation">
	{{ with .NextInSection }}
		<div class="nav-previous">
			<a href="{{ .Permalink }}" rel="prev">← {{ if .Title }}{{ .Title }}{{ else }}Previous{{ end }}</a>
		</div>
	{{ end }}
	{{ with .PrevInSection }}
		<div class="nav-next">
			<a href="{{ .Permalink }}" rel="next">{{ if .Title }}{{ .Title }}{{ else }}Next{{ end }} →</a>
		</div>
	{{ end }}
</nav>

{{ end }}
